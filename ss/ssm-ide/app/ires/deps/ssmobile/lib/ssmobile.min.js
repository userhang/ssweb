/*! ssmobile 2014-06-09 */
ssMobile = function (options) {
    function warnprint(a) {
        void 0 !== window.console && ssMSettings.debug === !0 && console.warn(a)
    }

    function logprint(a) {
        void 0 != window.console && ssMSettings.debug === !0 && console.log(a)
    }

    function addAnimation(a) {
        "string" == typeof a.selector && "string" == typeof a.name && animations.push(a)
    }

    function addPageToHistory(a, b) {
        history.unshift({page: a, animation: b, hash: "#" + a.attr("id"), id: a.attr("id")})
    }

    function clickHandler(a) {
        var b = $(a.target);
        b.is(touchSelectors.join(", ")) || (b = $(a.target).closest(touchSelectors.join(", "))), b && b.attr("href") && !b.isExternalLink() && a.preventDefault(), $.support.touch || $(a.target).trigger("tap", a)
    }

    function doNavigation(a, b, c, d) {
        function e() {
            var g = tapBuffer;
            $.support.animationEvents && c && ssMSettings.useAnimations ? (a.unbind("webkitAnimationEnd", e), a.removeClass("CURRENT " + f + " OUT"), b.removeClass(f), $body.removeClass("ANIMATING ANIMATING3D"), ssMSettings.trackScrollPositions === !0 && (b.css("top", -b.data("lastScroll")), setTimeout(function () {
                b.css("top", 0), window.scroll(0, b.data("lastScroll")), $(".SCROLL", b).each(function () {
                    this.scrollTop = -$(this).data("lastScroll")
                })
            }, 0))) : (a.removeClass(f + " OUT CURRENT"), g += 260), setTimeout(function () {
                b.removeClass("IN")
            }, g), $currentPage = b, d ? history.shift() : addPageToHistory($currentPage, c), a.unselect(), setHash($currentPage.attr("id")), b.trigger("pageAnimationEnd", {
                direction: "in",
                animation: c
            }), a.trigger("pageAnimationEnd", {direction: "out", animation: c})
        }

        if (d = d ? d : !1, void 0 === b || 0 === b.length)return $.fn.unselect(), !1;
        if (b.hasClass("CURRENT"))return $.fn.unselect(), !1;
        if ($(":focus").trigger("blur"), a.trigger("pageAnimationStart", {
                direction: "out",
                back: d
            }), b.trigger("pageAnimationStart", {
                direction: "in",
                back: d
            }), $.support.animationEvents && c && ssMSettings.useAnimations) {
            !$.support.transform3d && c.is3d && (c.name = ssMSettings.defaultAnimation);
            var f = c.name, g = c.is3d ? "ANIMATING3D" : "";
            d && (f = f.replace(/LEFT|RIGHT|UP|DOWN|IN|OUT/, reverseAnimation)), a.bind("webkitAnimationEnd", e), $body.addClass("ANIMATING " + g);
            var h = window.pageYOffset;
            ssMSettings.trackScrollPositions === !0 && b.css("top", window.pageYOffset - (b.data("lastScroll") || 0)), b.addClass(f + " IN CURRENT"), a.addClass(f + " OUT"), ssMSettings.trackScrollPositions === !0 && (a.data("lastScroll", h), $(".SCROLL", a).each(function () {
                $(this).data("lastScroll", this.scrollTop)
            }))
        } else b.addClass("CURRENT IN"), e();
        return !0
    }

    function reverseAnimation(a) {
        var b = {UP: "DOWN", DOWN: "UP", LEFT: "RIGHT", RIGHT: "LEFT", IN: "OUT", OUT: "IN"};
        return b[a] || a
    }

    function getOrientation() {
        return orientation
    }

    function goBack() {
        history.length < 1, 1 === history.length && window.history.go(-1);
        var a = history[0], b = history[1];
        return doNavigation(a.page, b.page, a.animation, !0) ? publicObj : !1
    }

    function goTo(a, b) {
        var c = history[0].page;
        if ("string" == typeof b)for (var d = 0, e = animations.length; e > d; d++)if (animations[d].name === b) {
            b = animations[d];
            break
        }
        if ("string" == typeof a) {
            var f = $(a);
            if (f.length < 1)return showPageByHref(a, {animation: b}), void 0;
            a = f
        }
        return doNavigation(c, a, b) ? publicObj : !1
    }

    function hashChangeHandler() {
        return location.hash === history[0].hash ? !0 : "" === location.hash ? (goBack(), !0) : history[1] && location.hash === history[1].hash ? (goBack(), !0) : (goTo($(location.hash), ssMSettings.defaultAnimation), void 0)
    }

    function init(a) {
        if (ssMSettings = $.extend({}, defaults, a), ssMSettings.preloadImages)for (var b = ssMSettings.preloadImages.length - 1; b >= 0; b--)(new Image).src = ssMSettings.preloadImages[b];
        ssMSettings.icon && (hairExtensions += '<link rel="apple-touch-icon" href="' + ssMSettings.icon + '" />'), ssMSettings.icon4 && (hairExtensions += '<link rel="apple-touch-icon" sizes="114x114" href="' + ssMSettings.icon4 + '" />'), ssMSettings.startupScreen && (hairExtensions += '<link rel="apple-touch-startup-image" href="' + ssMSettings.startupScreen + '" />'), ssMSettings.fixedViewport && (hairExtensions += '<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>'), ssMSettings.fullScreen && (hairExtensions += '<meta name="apple-mobile-web-app-capable" content="yes" />', ssMSettings.statusBar && (hairExtensions += '<meta name="apple-mobile-web-app-status-bar-style" content="' + ssMSettings.statusBar + '" />')), hairExtensions && $head.prepend(hairExtensions)
    }

    function getAnimation(a) {
        for (var b, c = 0, d = animations.length; d > c; c++)if (a.is(animations[c].selector)) {
            b = animations[c];
            break
        }
        return b || (b = ssMSettings.defaultAnimation), b
    }

    function insertPages(a, b) {
        var c = null, d = document.createElement("div");
        return d.innerHTML = a, $(d).children().each(function () {
            var a = $(this);
            a.attr("id") || a.attr("id", "page-" + ++newPageCount), $("#" + a.attr("id")).remove(), $body.append(a), $body.trigger("pageInserted", {page: a}), (a.hasClass("CURRENT") || !c) && (c = a)
        }), null !== c ? (goTo(c, b), c) : !1
    }

    function orientationChangeHandler() {
        $body.css("minHeight", 1e3), scrollTo(0, 0);
        var a = window.innerHeight;
        $body.css("minHeight", a), orientation = 90 == Math.abs(window.orientation) ? "LANDSCAPE" : "PORTRAIT", $body.removeClass("PORTRAIT LANDSCAPE").addClass(orientation).trigger("turn", {orientation: orientation})
    }

    function setHash(a) {
        location.hash = "#" + a.replace(/^#/, "")
    }

    function showPageByHref(a, b) {
        var c = {data: null, method: "GET", animation: null, callback: null, $referrer: null}, d = $.extend({}, c, b);
        "#" != a ? $.ajax({
            url: a, data: d.data, type: d.method, success: function (a) {
                var b = insertPages(a, d.animation);
                b && ("GET" == d.method && ssMSettings.cacheGetRequests === !0 && d.$referrer && d.$referrer.attr("href", "#" + b.attr("id")), d.callback && d.callback(!0))
            }, error: function () {
                d.$referrer && d.$referrer.unselect(), d.callback && d.callback(!1)
            }
        }) : d.$referrer && d.$referrer.unselect()
    }

    function submitHandler(a, b) {
        $(":focus").trigger("blur"), a.preventDefault();
        var c = "string" == typeof a ? $(a).eq(0) : a.target ? $(a.target) : $(a);
        return c.length && c.is(ssMSettings.formSelector) && c.attr("action") ? (showPageByHref(c.attr("action"), {
            data: c.serialize(),
            method: c.attr("method") || "POST",
            animation: getAnimation(c),
            callback: b
        }), !1) : !0
    }

    function submitParentForm(a) {
        var b = a.closest("form");
        return 0 !== b.length ? (b.trigger("submit"), !1) : !0
    }

    function supportForTransform3d() {
        var a, b, c, d, e;
        return a = document.getElementsByTagName("head")[0], b = document.body, c = document.createElement("style"), c.textContent = "@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-webkit-transform-3d){#ssm-3dtest{height:3px}}", d = document.createElement("div"), d.id = "ssm-3dtest", a.appendChild(c), b.appendChild(d), e = 3 === d.offsetHeight, c.parentNode.removeChild(c), d.parentNode.removeChild(d), e
    }

    function touchStartHandler(a) {
        var b = $(a.target), c = touchSelectors.join(", ");
        b.is(c) || (b = b.closest(c)), b.length && b.attr("href") && b.addClass("ACTIVE"), b.on($.support.touch ? "touchmove" : "mousemove", function () {
            b.removeClass("ACTIVE")
        }), b.on("touchend", function () {
            b.unbind("touchmove mousemove")
        })
    }

    function tapHandler(a) {
        var b = $(a.target);
        if (b.is(touchSelectors.join(", ")) || (b = b.closest(touchSelectors.join(", "))), !b.length || !b.attr("href"))return !1;
        var c = b.attr("target"), d = b.prop("hash"), e = b.attr("href"), f = null;
        if (b.isExternalLink())return b.unselect(), !0;
        if (b.is(ssMSettings.backSelector))goBack(d); else {
            if (!b.is(ssMSettings.submitSelector))return "_webapp" === c ? (window.location = e, !1) : "#" === e ? (b.unselect(), !0) : (f = getAnimation(b), d && "#" !== d ? (b.addClass("ACTIVE"), goTo($(d).data("referrer", b), f, b.hasClass("REVERSE")), !1) : (b.addClass("LOADING ACTIVE"), showPageByHref(b.attr("href"), {
                animation: f,
                callback: function () {
                    b.removeClass("LOADING"), setTimeout($.fn.unselect, 250, b)
                },
                $referrer: b
            }), !1));
            submitParentForm(b)
        }
    }

    function init_funpanel() {
        function a() {
            ssMSettings.funpanel_show ? ($(".FUNPANEL").get(0).scrollTop = 0, $(".FUNPANEL .TITLE").show(), $(this).removeClass("SHOW"), ssMSettings.funpanel_show = !1) : ($(".FUNPANEL .TITLE").hide(), $(this).addClass("SHOW"), ssMSettings.funpanel_show = !0)
        }

        0 != $(".FUNPANEL").length && $(".FUNPANEL").bind("click", a)
    }

    function popwin(a) {
        function b() {
            $(".POPWIN").removeClass("SHOW"), setTimeout(function () {
                $(".POPWIN").remove()
            }, 1e3)
        }

        $("<div class='POPWIN'></div>").appendTo("#ssm > .CURRENT"), $(".POPWIN").addClass("SHOW"), $(".POPWIN").html(a), setTimeout(b, 1e3)
    }

    function hintbox(a, b, c) {
        function d() {
            $(".HINTBOX").remove(), $(".COVERSCREEN").remove()
        }

        0 == $(".HINTBOX").length && ($("<div class='HINTBOX'><div class='TITLE'></div><div class='CONTENT'></div><div class='OKBTN'>确定</div></div>").appendTo("#ssm > .CURRENT"), $(".HINTBOX .TITLE").html(a), $(".HINTBOX .CONTENT").html(b), $(".HINTBOX .OKBTN").bind("click", d), 0 != c && coverScreen())
    }

    function coverScreen() {
        0 == $(".COVERSCREEN").length ? $("<div class='COVERSCREEN'></div>").appendTo("#ssm > .CURRENT") : $(".COVERSCREEN").remove()
    }

    function progressBox(a, b, c, d) {
        function e() {
            $(".HINTBOX").remove(), $(".COVERSCREEN").remove(), d && d()
        }

        function f(a, b) {
            var c = $(a), d = c.attr("max");
            d = d ? d : 100, b = b > d ? d : b, b = b / d * 100 + "%", c.children(".PROGRESS-VALUE").width(b)
        }

        var g = $("<div id='progressBox' class='PROGRESS-BAR'></div>"), d = d;
        if (0 == $(".HINTBOX").length)return $("<div class='HINTBOX'><div class='TITLE'></div><div class='CONTENT PROGRESS'></div></div>").appendTo("#ssm > .CURRENT"), $(".HINTBOX .TITLE").html(a), $(".HINTBOX .CONTENT").html(b), $(".HINTBOX").append(g), proInit.call(g), c && $("<div class='OKBTN'>取消</div>").appendTo(".HINTBOX").bind("click", e), coverScreen(), this.stop = function () {
            $(".HINTBOX").remove(), $(".COVERSCREEN").remove()
        }, this.update = function (a) {
            f("#progressBox", a)
        }, this
    }

    function proInit() {
        var a = $(this), b = a.attr("max"), c = a.attr("value"), d = a.attr("width"), e = a.attr("height"), f = a.children(".PROGRESS-VALUE");
        b = b ? b : 100, d && a.width(d), e && a.height(heigth), 0 == f.length ? (f = $("<div class='PROGRESS-VALUE'></div>"), a.append(f)) : f = f.first(), f.width(c / b * 100 + "%")
    }

    function tabHandler(a) {
          if ($(window.parent.document).find('#warningTitle').find('strong').length>0) {
                   $(window.parent.document).find('#warningTitle').find('strong').html('警告');
                 $(window.parent.document).find('#warningContent').find('span').html('请在右边属性栏设置属性');
              jQuery(window.parent.document).find('#eventCtrlDiv').click();
                
               }
        
        var b = $(a.target), c = b.parent(), d = c.parent().children("div"), e = b.index(), f = b.siblings(".SHOWING");
        a.preventDefault(), f.length > 0 && (f.removeClass("SHOWING"), d.children("div.SHOWING").removeClass("SHOWING")), b.addClass("SHOWING"), d.children("div").eq(e).addClass("SHOWING")
    }

    function tabInit() {
        var a = $(".TABVIEW>ul>li");
        a.on("click", tabHandler), a.length > 0 && a.first().trigger("click")
    }

    function treeInit() {
        $("#ssm ul.TREE > li:first-child").off("click", treeHandler), $("#ssm ul.TREE > li:first-child").on("click", treeHandler)
    }

    function treeHandler() {
        $(this).parent().toggleClass("OPENNING")
    }

    function scrollView() {
        function init() {
            $("div.SCROLLVIEW").each(function (index, node) {
                var $node = $(this), contents = $node.children(), $contentView = $(document.createElement("div")), settingStr = $node.attr("data-settings"), data_settings = eval("(" + settingStr + ")"), settings = $.extend({}, defaults, data_settings);
                setSize(settings.width, settings.height, $node), $contentView.addClass("CONTENT").appendTo($node), contents.appendTo($contentView);
                var scrollData = {
                    scrollPoint: {x: 0, y: 0},
                    isScrollV: settings.scrollV,
                    isScrollH: settings.scrollH,
                    isBarShowing: !1,
                    barHidden: !1,
                    held: !1
                };
                $contentView.get(0).data = $.extend({}, $contentView.get(0).data, scrollData), $contentView.on($.support.touch ? "touchstart.SCROLL" : "mousedown.SCROLL", scrollOnStartHandler).on($.support.touch ? "touchmove.SCROLL" : "mousemove.SCROLL", scrollOnMoveHandler).on($.support.touch ? "touchend.SCROLL" : "mouseup.SCROLL", scrollOnEndHandler).on("mouseout.SCROLL", scrollOnOutHandler)
            })
        }

        function setSize(a, b, c) {
            c.css({width: a, height: b})
        }

        function setScrollV(a, b) {
            var c = $(document.createElement("div")), d = $(document.createElement("div")), e = a.height(), f = (e >= b ? "100" : e / b * 100) + "%";
            d.css("height", f), c.addClass("SCROLLBARV").append(d).appendTo(a)
        }

        function setScrollH(a, b) {
            var c = $(document.createElement("div")), d = $(document.createElement("div")), e = a.width(), f = (e >= b ? "100" : e / b * 100) + "%";
            d.css("width", f), c.addClass("SCROLLBARH").append(d).appendTo(a)
        }

        function scrollOnStartHandler(a) {
            var b = $(this), c = b.parent(), d = this.data, e = d.barHidden;
            event.preventDefault(), d.isScrollV && !d.isScrollVSeted && (setScrollV(c, b.height()), d.isScrollVSeted = !0), d.isScrollH && !d.isScrollHSeted && (setScrollH(c, b.width()), d.isScrollHSeted = !0), e && clearTimeout(e), updateDragData(d, a), d.held = !0, b.css("-webkit-transition", "-webkit-transform 0ms"), b.siblings().children().css("-webkit-transition", "-webkit-transform 0ms")
        }

        function scrollOnMoveHandler(a) {
            var b = $(this), c = this.data;
            if (a.preventDefault(), c && c.held) {
                var d = c.movePoint, e = b.parent(), f = b.siblings(".SCROLLBARV,.SCROLLBARH"), g = c.lastMovePoint, h = c.scrollPoint;
                if (c.isBarShowing || (f.show(), c.isBarShowing = !0), updateDragData(c, a), c.isScrollV) {
                    var i = d.y - g.y, j = f.filter(".SCROLLBARV"), k = b.height();
                    h.y = h.y > 0 || h.y < e.height() - k ? h.y + i / 2 : h.y + i, vBarPosition = -j.height() * h.y / k, j.children().css("-webkit-transform", "translate(0px, " + vBarPosition + "px) translateZ(0px)")
                }
                if (c.isScrollH) {
                    var l = d.x - g.x, m = b.width(), n = f.filter(".ScrollBarH");
                    h.x = h.x > 0 || h.x < e.width() - m ? h.x + l / 2 : h.x + l, hBarPosition = -n.width() * h.x / m, n.children().css("-webkit-transform", "translate(" + hBarPosition + "px, 0px) translateZ(0px)")
                }
                b.css("-webkit-transform", "translate(" + h.x + "px, " + h.y + "px) translateZ(0px)"), c.scrollPoint = h
            }
        }

        function scrollOnEndHandler() {
            var a = $(this), b = this.data;
            if (b.held) {
                var c = a.parent(), d = a.siblings(".SCROLLBARV,.SCROLLBARH"), e = b.scrollPoint;
                if (b.isBarShowing && (b.barHidden = setTimeout(function () {
                        d.hide()
                    }, 500), b.isBarShowing = !1), b.isScrollV) {
                    var f = c.height() - a.height(), g = d.filter(".SCROLLBARV");
                    e.y > 0 ? (e.y = 0, vBarPosition = 0) : e.y < f && (e.y = f, vBarPosition = -g.height() * e.y / a.height()), g.children().css({
                        "-webkit-transition": "-webkit-transform 250ms ease-in",
                        "-webkit-transform": "translate(0px, " + vBarPosition + "px) translateZ(0px)"
                    })
                }
                if (b.isScrollH) {
                    var h = c.width() - a.width(), i = d.filter(".SCROLLBARH");
                    e.x > 0 ? (e.x = 0, hBarPosition = 0) : e.x < h && (e.x = h, hBarPosition = -i.width() * e.x / a.width()), i.children().css({
                        "-webkit-transition": "-webkit-transform 250ms ease-in",
                        "-webkit-transform": "translate(" + hBarPosition + "px, 0px) translateZ(0px)"
                    })
                }
                a.css({
                    "-webkit-transition": "-webkit-transform 250ms ease-in",
                    "-webkit-transform": "translate(" + e.x + "px, " + e.y + "px) translateZ(0px)"
                }), b.scrollPoint = e, $.extend(b, {
                    startPoint: null,
                    startDate: null,
                    movePoint: null,
                    moveDate: null,
                    lastMovePoint: null,
                    lastMoveDate: null,
                    held: !1
                })
            }
        }

        function scrollOnOutHandler(a) {
            {
                var b = !1;
                $(this)
            }
            if (a.currentTarget) {
                var c = a.relatedTarget;
                if (c != this) {
                    for (; c.parentNode && (c = c.parentNode, this != c););
                    c.parentNode || (b = !0)
                }
            }
            b && scrollOnEndHandler.call(this)
        }

        var defaults = {width: "100%", height: "20px", scrollV: !0, scrollH: !1};
        init()
    }

    function imgSlider() {
        var defaults = {interval: "4000", height: "150px"}, $elem = $(".FOCUS"), liWidth = $(window).width();
        $elem.each(function (index, el) {
            var $el = $(this), settingStr = $el.attr("data-settings"), data_settings = eval("(" + settingStr + ")"), settings = $.extend({}, defaults, data_settings);
            $el.css("height", settings.height);
            var $li = $el.children("ul").children("li"), $len = $el.children("ul").children("li").length, picIndex = 0;
            $li.each(function () {
                $(this).find("img").css("width", liWidth), $(this).css("height", settings.height)
            }), $(".FOCUS ul").css("width", liWidth * $len);
            for (var addHtml = "<div CLASS='btnBg'></div><div CLASS='btn'>", i = 0; $len > i; i++)addHtml += "<span></span>";
            addHtml += "</div>", addHtml += "</div>", $el.append(addHtml);
            var picTimer = setInterval(function () {
                showPics(picIndex), picIndex++, picIndex == $len && (picIndex = 0)
            }, settings.interval);
            $(".FOCUS").on("tap", ".pre", function () {
                picIndex--, 0 > picIndex && (picIndex = $len - 1), showPics(picIndex)
            }), $(".FOCUS").on("click", ".next", function () {
                picIndex++, picIndex == $len && (picIndex = 0), showPics(picIndex)
            }), $(".FOCUS").on({
                swipeLeft: function () {
                    picIndex++, picIndex == $len && (picIndex = 0), showPics(picIndex)
                }, swipeRight: function () {
                    picIndex--, 0 > picIndex && (picIndex = $len - 1), showPics(picIndex)
                }
            })
        });
        var showPics = function (a) {
            var b = -a * liWidth;
            $(".FOCUS ul").animate({left: b}, 300), $(".FOCUS .btn span").animate({background: "rgba(170, 170, 170, 0.28)"}, 300), $(".FOCUS .btn span").eq(a).animate({background: "rgba(170, 170, 170, 0.8)"}, 300)
        }
    }

    var $body, $head = $("head"), history = [], newPageCount = 0, ssMSettings = {}, $currentPage = "", orientation = "PORTRAIT", touchSelectors = [], publicObj = {}, tapBuffer = 100, extensions = ssMobile.prototype.extensions, animations = [], hairExtensions = "", defaults = {
        funpanel_show: !1,
        backSelector: ".BACK, .CANCEL, .GOBACK",
        cacheGetRequests: !0,
        debug: !0,
        defaultAnimation: "SLIDELEFT",
        fixedViewport: !0,
        formSelector: "form",
        fullScreen: !0,
        fullScreenClass: "FULLSCREEN",
        icon: null,
        icon4: null,
        preloadImages: !1,
        startupScreen: null,
        statusBar: "DEFAULT",
        submitSelector: ".SUBMIT",
        touchSelector: "a, .TOUCH",
        trackScrollPositions: !0,
        useAnimations: !0,
        useFastTouch: !0,
        animations: [{name: "CUBELEFT", selector: ".CUBELEFT, .CUBE", is3d: !0}, {
            name: "CUBERIGHT",
            selector: ".CUBERIGHT",
            is3d: !0
        }, {name: "FADE", selector: ".FADE"}, {
            name: "FLIPLEFT",
            selector: ".FLIPLEFT, .FLIP",
            is3d: !0
        }, {name: "FLIPRIGHT", selector: ".FLIPRIGHT", is3d: !0}, {
            name: "POP",
            selector: ".POP",
            is3d: !0
        }, {name: "SWAPLEFT", selector: ".SWAP", is3d: !0}, {
            name: "SLIDEDOWN",
            selector: ".SLIDEDOWN"
        }, {name: "SLIDERIGHT", selector: ".SLIDERIGHT"}, {name: "SLIDEUP", selector: ".SLIDEUP"}, {
            name: "SWITCH",
            selector: ".SWITCH",
            is3d: !0
        }, {name: "ROTATE", selector: ".ROTATE"}, {
            name: "SLIDELEFT",
            selector: ".SLIDELEFT, .SLIDE, #ssm > * > ul li a"
        }]
    };
    updateDragData = function (a, b) {
        function c(a, b, c) {
            a.startPoint || (a.startPoint = {x: b.x, y: b.y}), a.startDate || (a.startDate = c)
        }

        var d = b.timeStamp, e = {
            x: $.support.touch ? b.touches[0].pageX : b.pageX,
            y: $.support.touch ? b.touches[0].pageY : b.pageY
        };
        c(a, e, d), a.held ? $.extend(a, {
            lastMoveDate: a.moveDate || a.startDate,
            lastMovePoint: a.movePoint ? a.movePoint : a.startPoint,
            moveDate: d,
            movePoint: {x: e.x, y: e.y}
        }) : $.extend(a, {lastMoveDate: 0, lastMovePoint: a.startPoint, moveDate: 0, movePoint: a.startPoint})
    };
    var List = {
        getInstance: function (a, b, c, d, e, f) {
            function g(a) {
                $.extend(m, {len: j, pageNum: a}), $.ajax({
                    type: "POST" === k ? "POST" : "GET",
                    url: l,
                    data: m,
                    dataType: "json",
                    context: $("#" + i),
                    success: function (a, b) {
                        if (a) {
                            var c = a, d = this;
                            n = c.count, o = c.current, p = q(c.data), $.each(p, function (a, b) {
                                var c = '<li class="ARROW"><a href="' + (b.href ? b.href : "#") + '"><small>' + b.small + "</small>" + b.text + "<em>" + b.em + "</em></a></li>";
                                d.append(c)
                            }), r.call(this, a, b)
                        }
                    },
                    error: function (a, b) {
                        s.call(this, a, b)
                    }
                })
            }

            var h = {}, i = a, j = b, k = c, l = d, m = {}, n = -1, o = -1, p = null, q = function (a) {
                return a
            }, r = function () {
            }, s = function () {
            };
            return e && ($.isFunction(e) ? q = e : (m = e, f && (q = f))), g(1), h.next = function () {
                g(o + 1)
            }, h.previous = function () {
                g(o - 1)
            }, h.jumpTo = function (a) {
                g(a)
            }, h.getCount = function () {
                return n
            }, h.getLength = function () {
                return j
            }, h.getCurrent = function () {
                return o
            }, h.getView = function () {
                return $("#" + i)
            }, h.getData = function () {
                return p
            }, h.addListener = function (a) {
                return a.success && (r = a.success), a.error && (s = a.error), h
            }, h.addListener = function (a, b) {
                switch (a) {
                    case"success":
                        r = b;
                        break;
                    case"error":
                        s = b
                }
                return h
            }, h
        }
    }, headSelect = {
        init: function () {
            var a = $(".HEADSELECT");
            0 != a.length && a.each(function () {
                var a = $(".GLASS"), b = $(this), c = b.children("ul"), d = c.children("li"), e = b.children("h1"), f = c.children("li").length;
                f > 10 && (f = 10);
                var g = document.createElement("div");
                a = $(g), a.addClass("GLASS").appendTo(b);
                var h, i = 0, j = 0, k = !1, l = function () {
                    i = k ? i + 5 : i - 5, j = k ? (i + 21) * f : 0, 0 > i ? i = 0 : i > 20 && (i = 20), d.height(i + "px"), c.height(j + "px"), i > 0 && 20 > i && (h = setTimeout(l, 40))
                };
                b.on("click", function (b) {
                    b.preventDefault(), h && clearTimeout(h), k = !k, 0 == k ? (c.css("display", "none"), e.removeClass("close"), e.addClass("open")) : 1 == k && (c.css("display", "block"), e.removeClass("open"), e.addClass("close")), l(), a.toggle()
                })
            })
        }, addListener: function (a, b) {
            var c = $(a), d = c.children("ul");
            d.on("click", function (c) {
                c.preventDefault();
                var d = c.target, e = $(d);
                (e.is("li") || e.parent().is("li")) && b.call(a, d)
            })
        }
    }, popOver = function (a) {
        function b() {
            $(".POPOVER").animate({opacity: 0}, 500), setTimeout(function () {
                $(".POPOVER").remove()
            }, 1e3)
        }

        var c, d, e = new Object, f = event.target, g = f.offsetTop, h = f.offsetLeft, i = f.offsetHeight, j = f.offsetWidth, k = {
            height: "80",
            width: "150",
            to: "top",
            interval: "4000"
        }, l = $.extend({}, k, a);
        "top" == l.to ? (c = g + i + 10, d = h) : "right" == l.to ? (c = g, d = h - l.width - 20) : "bottom" == l.to ? (c = g - l.height - 20, d = h) : "left" == l.to && (c = g, d = h + j + 10);
        var m = $("<div CLASS='POPOVER' style=\"height:" + l.height + ";width:" + l.width + ";top:" + c + ";left:" + d + "\"><div CLASS='CONTENT'></div><s CLASS=" + l.to + "><i></i></s></div>");
        return e.elemContent = m.children(".CONTENT"), m.appendTo("#ssm > .CURRENT"), $(".POPOVER").show(), setTimeout(b, l.interval), $(".POPOVER").on("tap", function () {
            b()
        }), e.setContent = function (a) {
            this.elemContent.text(a)
        }, e
    }, loader = function (a, b) {
        function c() {
            0 == $(".COVERSCREEN").length ? $("<div class='COVERSCREEN'></div>").appendTo("#ssm > .CURRENT") : $(".COVERSCREEN").remove()
        }

        var d = new Object, e = {height: "50", width: "50", color: "black", disableScreen: !0};
        if ("hide" == a)return $(".LOADING").remove(), $(".COVERSCREEN").remove(), void 0;
        if ("show" == a) {
            if (0 != $(".LOADING").length)return;
            var f = $("<div class='loading'><div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div></div>");
            f.appendTo("#ssm > .CURRENT");
            var g = $.extend({}, e, b);
            $(".LOADING").css({
                height: g.height,
                width: g.width
            }), $(".LOADING div span").css({background: g.color}), 0 != g.disableScreen && c()
        }
        return d
    };
    init(options);
    var main = function () {
        $.support || ($.support = {}), $.support.animationEvents = "undefined" != typeof window.WebKitAnimationEvent, $.support.touch = "undefined" != typeof window.TouchEvent && window.navigator.userAgent.indexOf("Mobile") > -1 && ssMSettings.useFastTouch, $.support.transform3d = supportForTransform3d(), scrollView(), $.fn.isExternalLink = function () {
            var a = $(this);
            return "_blank" == a.attr("target") || "external" == a.attr("rel") || a.is('a[href^="http://maps.google.com"], a[href^="mailto:"], a[href^="tel:"], a[href^="javascript:"], a[href*="youtube.com/v"], a[href*="youtube.com/watch"]')
        }, $.fn.makeActive = function () {
            return $(this).addClass("ACTIVE")
        }, $.fn.unselect = function (a) {
            a ? a.removeClass("ACTIVE") : $(".ACTIVE").removeClass("ACTIVE")
        };
        for (var a = 0, b = extensions.length; b > a; a++) {
            var c = extensions[a];
            $.isFunction(c) && $.extend(publicObj, c(publicObj))
        }
        for (var d = 0, e = defaults.animations.length; e > d; d++) {
            var f = defaults.animations[d];
            void 0 !== ssMSettings[f.name + "Selector"] && (f.selector = ssMSettings[f.name + "Selector"], alert("animation selector")), addAnimation(f)
        }
        touchSelectors.push(ssMSettings.touchSelector), touchSelectors.push(ssMSettings.backSelector), touchSelectors.push(ssMSettings.submitSelector), $(touchSelectors.join(", ")).css("-webkit-touch-callout", "none"), $body = $("#ssm");
        var g = [];
        0 === $body.length && ($body = $(document.body).attr("id", "ssm")), $.support.transform3d && g.push("SUPPORTS3D"), ssMSettings.fullScreenClass && window.navigator.standalone === !0 && g.push(ssMSettings.fullScreenClass, ssMSettings.statusBar), $body.addClass(g.join(" ")).bind("click", clickHandler).bind("orientationchange", orientationChangeHandler).bind("submit", submitHandler).bind("tap", tapHandler).bind($.support.touch ? "touchstart" : "mousedown", touchStartHandler).trigger("orientationchange"), $(window).bind("hashchange", hashChangeHandler);
        var h = location.hash;
        return $currentPage = 0 === $("#ssm > .CURRENT").length ? $("#ssm > *:first-child").addClass("CURRENT") : $("#ssm > .CURRENT"), 0 == $currentPage.length ? (warnprint("null node,it requires one node at least!"), void 0) : (setHash($currentPage.attr("id")), addPageToHistory($currentPage), 1 === $(h).length && goTo(h), init_funpanel(), tabInit(), $("#ssm ul.TREE > li:first-child").on("click", treeHandler), headSelect.init(), void 0)
    };
    return $(function () {
        main()
    }), publicObj = {
        main: main,
        addAnimation: addAnimation,
        animations: animations,
        getOrientation: getOrientation,
        goBack: goBack,
        insertPages: insertPages,
        goTo: goTo,
        history: history,
        settings: ssMSettings,
        submitForm: submitHandler,
        warnprint: warnprint,
        logprint: logprint,
        popwin: popwin,
        hintbox: hintbox,
        progressBox: progressBox,
        List: List.getInstance,
        addSelectListener: headSelect.addListener,
        imgSlider: imgSlider,
        popOver: popOver,
        loader: loader,
        funpanel: init_funpanel,
        tab: tabInit,
        tree: treeInit
    }
}, ssMobile.prototype.extensions = [], function (a) {
    a.ssm = function (a) {
        return ssMobile(a)
    }, a.fn.prop = a.fn.attr, a.ssm.addExtension = function (a) {
        ssMobile.prototype.extensions.push(a)
    }
}(Zepto);